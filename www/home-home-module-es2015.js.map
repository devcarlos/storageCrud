{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts","./src/app/services/storage.service.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Ionic Storage CRUD\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">Title</ion-label>\\n    <ion-input [(ngModel)]=\\\"newItem.title\\\"></ion-input>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">Value</ion-label>\\n    <ion-input [(ngModel)]=\\\"newItem.value\\\"></ion-input>\\n  </ion-item>\\n  <ion-button expand=\\\"full\\\" (click)=\\\"addItem()\\\" color=\\\"secondary\\\">\\n    SAVE\\n  </ion-button>\\n\\n  <ion-list #mylist>\\n    <ion-list-header>\\n      <ion-label>My Items</ion-label>\\n    </ion-list-header>\\n\\n    <ion-item-sliding *ngFor=\\\"let item of items\\\">\\n      <ion-item>\\n        <ion-label text-wrap>\\n          <h3>{{ item.title }}</h3>\\n          <ion-text color=\\\"secondary\\\">\\n            <p>{{ item.value }}</p>\\n          </ion-text>\\n          <p>{{ item.modified | date:'short' }}</p>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"secondary\\\" (click)=\\\"updateItem(item)\\\">\\n          Update\\n        </ion-item-option>\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteItem(item)\\\">\\n          Delete\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#mylist {\\n  background-color: white;\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaGFybGVzL0RvY3VtZW50cy9ERVZFTE9QRVIvV09SS1NQQUNFL0lPTklDL1NUT1JBR0VDUlVEL3N0b3JhZ2VDcnVkL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQ0FGOztBREdBO0VBQ0UsdUJBQUE7QUNBRjs7QURHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBRUEsY0FBQTtFQUVBLFNBQUE7QUNGRjs7QURLQTtFQUNFLHFCQUFBO0FDRkYiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jbXlsaXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcblxuICBjb2xvcjogIzhjOGM4YztcblxuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iLCIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jbXlsaXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcbiAgY29sb3I6ICM4YzhjOGM7XG4gIG1hcmdpbjogMDtcbn1cblxuI2NvbnRhaW5lciBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufSJdfQ== */\";","import { Component, ViewChild } from \"@angular/core\";\nimport { StorageService } from \"../services/storage.service\";\nimport { Platform, ToastController, IonList } from \"@ionic/angular\";\n\nimport { Item } from '../interfaces/item';\n\n@Component({\n  selector: \"app-home\",\n  templateUrl: \"home.page.html\",\n  styleUrls: [\"home.page.scss\"],\n})\nexport class HomePage {\n  \n  items: Item[] = [];\n  newItem: Item = <Item>{};\n\n  @ViewChild('mylist')mylist: IonList;\n\n  constructor(\n    private storageService: StorageService,\n    private plt: Platform,\n    private toastController: ToastController\n  ) {\n    this,plt.ready().then(() => {\n      this.loadItems();\n    }) \n  }\n\n  // CREATE\n  addItem() {\n    this.newItem.modified = Date.now();\n    this.newItem.id = Date.now();\n\n    this.storageService.addItem(this.newItem).then(item => {\n      this.newItem = <Item>{};\n      this.showToast('Item Added!');\n      this.loadItems();\n    });\n  }\n\n  // READ\n  loadItems() {\n    this.storageService.getItems().then(items => {\n      this.items = items;\n    });\n  }\n\n  // UPDATE\n  updateItem(item: Item) {\n    item.title = `UPDATED: ${item.title}`;\n    item.modified = Date.now();\n\n    this.storageService.updateItem(item).then(item => {\n      this.showToast('Item Updated!');\n      this.loadItems();\n    });\n  }\n\n  // DELETE\n  deleteItem(item: Item) {\n    this.storageService.deleteItem(item).then(item => {\n      this.showToast('Item Deleted!');\n      this.mylist.closeSlidingItems()\n      this.loadItems();\n    });\n  }\n\n  // ALERT\n  async showToast(message: string) {\n    let toast = await this.toastController.create({\n      message: message,\n      duration: 2000\n    });\n\n    toast.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Item } from \"../interfaces/item\";\nimport { Storage } from '@ionic/storage';\n\nconst ITEMS_KEY = 'my-items';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n\n  constructor(private storage: Storage) { }\n\n  // Create\n  addItem(item: Item): Promise<any> {\n    return this.storage.get(ITEMS_KEY).then((items: Item[]) => {\n      if (items) { \n        items.push(item);\n        return this.storage.set(ITEMS_KEY, items);\n      } else {\n        return this.storage.set(ITEMS_KEY, [item]);\n      }\n    });\n  }\n\n  // Read\n  getItems(): Promise<Item[]> {\n    return this.storage.get(ITEMS_KEY);\n  }\n\n  // Update\n  updateItem(item: Item): Promise<any> {\n    return this.storage.get(ITEMS_KEY).then((items: Item[]) => {\n      if (!items || items.length === 0) { \n        return null;\n      }\n       \n      let newItems = items.map(element => {\n        if (item.id === element.id) {\n          return item;\n        }\n        return element;\n      });\n\n      console.log('NEW ITEMS => ', newItems);\n\n      return this.storage.set(ITEMS_KEY, newItems);\n    });\n  }\n\n  // Delete\n  deleteItem(item: Item): Promise<any> {\n    return this.storage.get(ITEMS_KEY).then((items: Item[]) => {\n      if (!items || items.length === 0) { \n        return null;\n      }\n\n      console.log('ITEMS => ', items);\n       \n      let keepItems = items.filter(element => element.id !== item.id);\n\n      console.log('KEEP ITEMS => ', keepItems);\n\n      return this.storage.set(ITEMS_KEY, keepItems);\n    });\n  }\n}\n"],"sourceRoot":"webpack:///"}