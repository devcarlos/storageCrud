{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts","webpack:///src/app/services/storage.service.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","storageService","plt","toastController","items","newItem","ready","then","loadItems","modified","Date","now","id","addItem","item","showToast","getItems","title","updateItem","deleteItem","mylist","closeSlidingItems","message","create","duration","toast","present","selector","template","ITEMS_KEY","StorageService","storage","get","push","set","length","newItems","map","element","console","log","keepItems","filter","providedIn"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACIf,QAAMA,MAAM,GAAW,CACrB;AACEC,UAAI,EAAE,EADR;AAEEC,eAAS,EAAE;AAFb,KADqB,CAAvB;;AAWA,QAAaC,qBAAqB;AAAA;AAAA,KAAlC;;AAAaA,yBAAqB,6DAJjC,+DAAS;AACRC,aAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,aAAO,EAAE,CAAC,4DAAD;AAFD,KAAT,CAIiC,GAArBH,qBAAqB,CAArB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACGb,QAAaI,cAAc;AAAA;AAAA,KAA3B;;AAAaA,kBAAc,6DAT1B,+DAAS;AACRH,aAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,0EAJO,CADD;AAORI,kBAAY,EAAE,CAAC,mDAAD;AAPN,KAAT,CAS0B,GAAdD,cAAc,CAAd;;;;;;;;;;;;;;;;AClBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACWf,QAAaE,QAAQ;AAOnB,wBACUC,cADV,EAEUC,GAFV,EAGUC,eAHV,EAG0C;AAAA;;AAAA;;AAFhC,aAAAF,cAAA,GAAAA,cAAA;AACA,aAAAC,GAAA,GAAAA,GAAA;AACA,aAAAC,eAAA,GAAAA,eAAA;AARV,aAAAC,KAAA,GAAgB,EAAhB;AACA,aAAAC,OAAA,GAAsB,EAAtB;AASE,cAAKH,GAAG,CAACI,KAAJ,GAAYC,IAAZ,CAAiB,YAAM;AAC1B,eAAI,CAACC,SAAL;AACD,SAFI,CAAL;AAGD,OAfkB,CAiBnB;;;AAjBmB;AAAA;AAAA,kCAkBT;AAAA;;AACR,eAAKH,OAAL,CAAaI,QAAb,GAAwBC,IAAI,CAACC,GAAL,EAAxB;AACA,eAAKN,OAAL,CAAaO,EAAb,GAAkBF,IAAI,CAACC,GAAL,EAAlB;AAEA,eAAKV,cAAL,CAAoBY,OAApB,CAA4B,KAAKR,OAAjC,EAA0CE,IAA1C,CAA+C,UAAAO,IAAI,EAAI;AACrD,kBAAI,CAACT,OAAL,GAAqB,EAArB;;AACA,kBAAI,CAACU,SAAL,CAAe,aAAf;;AACA,kBAAI,CAACP,SAAL;AACD,WAJD;AAKD,SA3BkB,CA6BnB;;AA7BmB;AAAA;AAAA,oCA8BP;AAAA;;AACV,eAAKP,cAAL,CAAoBe,QAApB,GAA+BT,IAA/B,CAAoC,UAAAH,KAAK,EAAI;AAC3C,kBAAI,CAACA,KAAL,GAAaA,KAAb;AACD,WAFD;AAGD,SAlCkB,CAoCnB;;AApCmB;AAAA;AAAA,mCAqCRU,IArCQ,EAqCI;AAAA;;AACrBA,cAAI,CAACG,KAAL,sBAAyBH,IAAI,CAACG,KAA9B;AACAH,cAAI,CAACL,QAAL,GAAgBC,IAAI,CAACC,GAAL,EAAhB;AAEA,eAAKV,cAAL,CAAoBiB,UAApB,CAA+BJ,IAA/B,EAAqCP,IAArC,CAA0C,UAAAO,IAAI,EAAI;AAChD,kBAAI,CAACC,SAAL,CAAe,eAAf;;AACA,kBAAI,CAACP,SAAL;AACD,WAHD;AAID,SA7CkB,CA+CnB;;AA/CmB;AAAA;AAAA,mCAgDRM,IAhDQ,EAgDI;AAAA;;AACrB,eAAKb,cAAL,CAAoBkB,UAApB,CAA+BL,IAA/B,EAAqCP,IAArC,CAA0C,UAAAO,IAAI,EAAI;AAChD,kBAAI,CAACC,SAAL,CAAe,eAAf;;AACA,kBAAI,CAACK,MAAL,CAAYC,iBAAZ;;AACA,kBAAI,CAACb,SAAL;AACD,WAJD;AAKD,SAtDkB,CAwDnB;;AAxDmB;AAAA;AAAA,kCAyDHc,OAzDG,EAyDc;;;;;;;;AACnB,2BAAM,KAAKnB,eAAL,CAAqBoB,MAArB,CAA4B;AAC5CD,6BAAO,EAAEA,OADmC;AAE5CE,8BAAQ,EAAE;AAFkC,qBAA5B,CAAN;;;AAARC,yB;AAKJA,yBAAK,CAACC,OAAN;;;;;;;;;AACD;AAhEkB;;AAAA;AAAA,OAArB;;;;cAQ4B;;cACX;;cACY;;;;AALP,8DAAnB,gEAAU,QAAV,CAAmB,G,kBAAA,E,QAAA,E,MAAA;AALT1B,YAAQ,6DALpB,gEAAU;AACT2B,cAAQ,EAAE,UADD;AAETC,cAAQ,EAAR;AAAA;AAAA,wFAFS;;;;AAAA,KAAV,CAKoB,GAAR5B,QAAQ,CAAR;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPb,QAAM6B,SAAS,GAAG,UAAlB;;AAKA,QAAaC,cAAc;AAEzB,8BAAoBC,OAApB,EAAsC;AAAA;;AAAlB,aAAAA,OAAA,GAAAA,OAAA;AAAqB,OAFhB,CAIzB;;;AAJyB;AAAA;AAAA,gCAKjBjB,IALiB,EAKP;AAAA;;AAChB,iBAAO,KAAKiB,OAAL,CAAaC,GAAb,CAAiBH,SAAjB,EAA4BtB,IAA5B,CAAiC,UAACH,KAAD,EAAmB;AACzD,gBAAIA,KAAJ,EAAW;AACTA,mBAAK,CAAC6B,IAAN,CAAWnB,IAAX;AACA,qBAAO,MAAI,CAACiB,OAAL,CAAaG,GAAb,CAAiBL,SAAjB,EAA4BzB,KAA5B,CAAP;AACD,aAHD,MAGO;AACL,qBAAO,MAAI,CAAC2B,OAAL,CAAaG,GAAb,CAAiBL,SAAjB,EAA4B,CAACf,IAAD,CAA5B,CAAP;AACD;AACF,WAPM,CAAP;AAQD,SAdwB,CAgBzB;;AAhByB;AAAA;AAAA,mCAiBjB;AACN,iBAAO,KAAKiB,OAAL,CAAaC,GAAb,CAAiBH,SAAjB,CAAP;AACD,SAnBwB,CAqBzB;;AArByB;AAAA;AAAA,mCAsBdf,IAtBc,EAsBJ;AAAA;;AACnB,iBAAO,KAAKiB,OAAL,CAAaC,GAAb,CAAiBH,SAAjB,EAA4BtB,IAA5B,CAAiC,UAACH,KAAD,EAAmB;AACzD,gBAAI,CAACA,KAAD,IAAUA,KAAK,CAAC+B,MAAN,KAAiB,CAA/B,EAAkC;AAChC,qBAAO,IAAP;AACD;;AAED,gBAAIC,QAAQ,GAAGhC,KAAK,CAACiC,GAAN,CAAU,UAAAC,OAAO,EAAI;AAClC,kBAAIxB,IAAI,CAACF,EAAL,KAAY0B,OAAO,CAAC1B,EAAxB,EAA4B;AAC1B,uBAAOE,IAAP;AACD;;AACD,qBAAOwB,OAAP;AACD,aALc,CAAf;AAOAC,mBAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BJ,QAA7B;AAEA,mBAAO,MAAI,CAACL,OAAL,CAAaG,GAAb,CAAiBL,SAAjB,EAA4BO,QAA5B,CAAP;AACD,WAfM,CAAP;AAgBD,SAvCwB,CAyCzB;;AAzCyB;AAAA;AAAA,mCA0CdtB,IA1Cc,EA0CJ;AAAA;;AACnB,iBAAO,KAAKiB,OAAL,CAAaC,GAAb,CAAiBH,SAAjB,EAA4BtB,IAA5B,CAAiC,UAACH,KAAD,EAAmB;AACzD,gBAAI,CAACA,KAAD,IAAUA,KAAK,CAAC+B,MAAN,KAAiB,CAA/B,EAAkC;AAChC,qBAAO,IAAP;AACD;;AAEDI,mBAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBpC,KAAzB;AAEA,gBAAIqC,SAAS,GAAGrC,KAAK,CAACsC,MAAN,CAAa,UAAAJ,OAAO;AAAA,qBAAIA,OAAO,CAAC1B,EAAR,KAAeE,IAAI,CAACF,EAAxB;AAAA,aAApB,CAAhB;AAEA2B,mBAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BC,SAA9B;AAEA,mBAAO,MAAI,CAACV,OAAL,CAAaG,GAAb,CAAiBL,SAAjB,EAA4BY,SAA5B,CAAP;AACD,WAZM,CAAP;AAaD;AAxDwB;;AAAA;AAAA,OAA3B;;;;cAE+B;;;;AAFlBX,kBAAc,6DAH1B,iEAAW;AACVa,gBAAU,EAAE;AADF,KAAX,CAG0B,GAAdb,cAAc,CAAd","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Ionic Storage CRUD\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">Title</ion-label>\\n    <ion-input [(ngModel)]=\\\"newItem.title\\\"></ion-input>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label position=\\\"fixed\\\">Value</ion-label>\\n    <ion-input [(ngModel)]=\\\"newItem.value\\\"></ion-input>\\n  </ion-item>\\n  <ion-button expand=\\\"full\\\" (click)=\\\"addItem()\\\" color=\\\"secondary\\\">\\n    SAVE\\n  </ion-button>\\n\\n  <ion-list #mylist>\\n    <ion-list-header>\\n      <ion-label>My Items</ion-label>\\n    </ion-list-header>\\n\\n    <ion-item-sliding *ngFor=\\\"let item of items\\\">\\n      <ion-item>\\n        <ion-label text-wrap>\\n          <h3>{{ item.title }}</h3>\\n          <ion-text color=\\\"secondary\\\">\\n            <p>{{ item.value }}</p>\\n          </ion-text>\\n          <p>{{ item.modified | date:'short' }}</p>\\n        </ion-label>\\n      </ion-item>\\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"secondary\\\" (click)=\\\"updateItem(item)\\\">\\n          Update\\n        </ion-item-option>\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"deleteItem(item)\\\">\\n          Delete\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule } from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HomePageRoutingModule\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#mylist {\\n  background-color: white;\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jaGFybGVzL0RvY3VtZW50cy9ERVZFTE9QRVIvV09SS1NQQUNFL0lPTklDL1NUT1JBR0VDUlVEL3N0b3JhZ2VDcnVkL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQ0FGOztBREdBO0VBQ0UsdUJBQUE7QUNBRjs7QURHQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBRUEsY0FBQTtFQUVBLFNBQUE7QUNGRjs7QURLQTtFQUNFLHFCQUFBO0FDRkYiLCJmaWxlIjoic3JjL2FwcC9ob21lL2hvbWUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2NvbnRhaW5lciB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jbXlsaXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcblxuICBjb2xvcjogIzhjOGM4YztcblxuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iLCIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jbXlsaXN0IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcbiAgY29sb3I6ICM4YzhjOGM7XG4gIG1hcmdpbjogMDtcbn1cblxuI2NvbnRhaW5lciBhIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufSJdfQ== */\";","import { Component, ViewChild } from \"@angular/core\";\nimport { StorageService } from \"../services/storage.service\";\nimport { Platform, ToastController, IonList } from \"@ionic/angular\";\n\nimport { Item } from '../interfaces/item';\n\n@Component({\n  selector: \"app-home\",\n  templateUrl: \"home.page.html\",\n  styleUrls: [\"home.page.scss\"],\n})\nexport class HomePage {\n  \n  items: Item[] = [];\n  newItem: Item = <Item>{};\n\n  @ViewChild('mylist')mylist: IonList;\n\n  constructor(\n    private storageService: StorageService,\n    private plt: Platform,\n    private toastController: ToastController\n  ) {\n    this,plt.ready().then(() => {\n      this.loadItems();\n    }) \n  }\n\n  // CREATE\n  addItem() {\n    this.newItem.modified = Date.now();\n    this.newItem.id = Date.now();\n\n    this.storageService.addItem(this.newItem).then(item => {\n      this.newItem = <Item>{};\n      this.showToast('Item Added!');\n      this.loadItems();\n    });\n  }\n\n  // READ\n  loadItems() {\n    this.storageService.getItems().then(items => {\n      this.items = items;\n    });\n  }\n\n  // UPDATE\n  updateItem(item: Item) {\n    item.title = `UPDATED: ${item.title}`;\n    item.modified = Date.now();\n\n    this.storageService.updateItem(item).then(item => {\n      this.showToast('Item Updated!');\n      this.loadItems();\n    });\n  }\n\n  // DELETE\n  deleteItem(item: Item) {\n    this.storageService.deleteItem(item).then(item => {\n      this.showToast('Item Deleted!');\n      this.mylist.closeSlidingItems()\n      this.loadItems();\n    });\n  }\n\n  // ALERT\n  async showToast(message: string) {\n    let toast = await this.toastController.create({\n      message: message,\n      duration: 2000\n    });\n\n    toast.present();\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { Item } from \"../interfaces/item\";\nimport { Storage } from '@ionic/storage';\n\nconst ITEMS_KEY = 'my-items';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StorageService {\n\n  constructor(private storage: Storage) { }\n\n  // Create\n  addItem(item: Item): Promise<any> {\n    return this.storage.get(ITEMS_KEY).then((items: Item[]) => {\n      if (items) { \n        items.push(item);\n        return this.storage.set(ITEMS_KEY, items);\n      } else {\n        return this.storage.set(ITEMS_KEY, [item]);\n      }\n    });\n  }\n\n  // Read\n  getItems(): Promise<Item[]> {\n    return this.storage.get(ITEMS_KEY);\n  }\n\n  // Update\n  updateItem(item: Item): Promise<any> {\n    return this.storage.get(ITEMS_KEY).then((items: Item[]) => {\n      if (!items || items.length === 0) { \n        return null;\n      }\n       \n      let newItems = items.map(element => {\n        if (item.id === element.id) {\n          return item;\n        }\n        return element;\n      });\n\n      console.log('NEW ITEMS => ', newItems);\n\n      return this.storage.set(ITEMS_KEY, newItems);\n    });\n  }\n\n  // Delete\n  deleteItem(item: Item): Promise<any> {\n    return this.storage.get(ITEMS_KEY).then((items: Item[]) => {\n      if (!items || items.length === 0) { \n        return null;\n      }\n\n      console.log('ITEMS => ', items);\n       \n      let keepItems = items.filter(element => element.id !== item.id);\n\n      console.log('KEEP ITEMS => ', keepItems);\n\n      return this.storage.set(ITEMS_KEY, keepItems);\n    });\n  }\n}\n"]}